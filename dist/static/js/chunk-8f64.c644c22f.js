(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-8f64"],{"Z/P5":function(t,e,i){"use strict";i.r(e);var a=i("iV9a"),s={data:function(){return{dialogVisible:!1,showHeader:!1,total:0,nickName:void 0,userId:void 0,topList:[],listQuery:{page:1,limit:10,userId:void 0,addDayStart:void 0,addDayEnd:void 0},topListQuery:{propId:void 0,toUserId:void 0,createDate:void 0,createYm:void 0},list:[],listLoading:!0}},created:function(){this.listQuery.userId=this.$route.query.userId,this.userId=this.$route.query.userId,this.nickName=this.$route.query.nickName,this.getList()},methods:{filterList:function(){this.listQuery.page=1,this.getList()},getList:function(){var t=this;if(this.listQuery.addDayStart>this.listQuery.addDayEnd)return this.$message.error(this.$t("error.endtime_greater_starttime")),!1;this.listLoading=!0,Object(a.a)(this.listQuery).then(function(e){t.list=e.data.records,t.total=e.data.total,t.listLoading=!1})},clearFilter:function(){this.listQuery={page:1,limit:this.listQuery.limit,userId:this.listQuery.userId,addDayStart:void 0,addDayEnd:void 0},this.getList()},handleView:function(t){var e=this;this.dialogVisible=!0,this.topListQuery={propId:t.gid,toUserId:t.uid,createDate:t.addDay,createYm:t.createYm},Object(a.b)(this.topListQuery).then(function(t){e.topList=t.data})}}},l=i("KHd+"),n=Object(l.a)(s,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-container"},[i("cus-wraper",[i("cus-filter-wraper",[t._v("\n\t\t\t"+t._s(t.$t("table.nick_name")+t.nickName+"("+t.userId+")"+t.$t("Wish_list"))+"\n\t\t")]),t._v(" "),i("cus-filter-wraper",[i("div",{staticClass:"filterBox"},[t._v("\n\t\t\t\t"+t._s(t.$t("date"))+"：\n\t\t\t\t"),i("el-date-picker",{staticStyle:{"line-height":"50px",width:"150px"},attrs:{type:"date","value-format":"yyyy-MM-dd"},on:{change:t.filterList},model:{value:t.listQuery.addDayStart,callback:function(e){t.$set(t.listQuery,"addDayStart",e)},expression:"listQuery.addDayStart"}}),t._v("\n\t\t\t\t-\n\t\t\t\t"),i("el-date-picker",{staticStyle:{"line-height":"50px",width:"150px"},attrs:{type:"date","value-format":"yyyy-MM-dd"},on:{change:t.filterList},model:{value:t.listQuery.addDayEnd,callback:function(e){t.$set(t.listQuery,"addDayEnd",e)},expression:"listQuery.addDayEnd"}}),t._v(" "),i("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:t.filterList}},[t._v(t._s(t.$t("table.query")))]),t._v(" "),i("el-button",{attrs:{type:"danger"},on:{click:t.clearFilter}},[t._v(t._s(t.$t("table.empty_condition")))])],1)]),t._v(" "),i("div",{staticClass:"table-container"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],attrs:{data:t.list,size:"mini",fit:"","element-loading-text":"Loading",border:"","highlight-current-row":"",align:"center"}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("label.id"),prop:"id",align:"center",width:"100",fixed:""}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("gift_name"),prop:"gname",align:"center"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("gift_icon"),prop:"gicon",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("span",[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.gIcon,alt:""}})])]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("date"),prop:"addDay",align:"center",width:"150"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("quantity"),prop:"gnum",align:"center",width:"100"}}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("speed_of_progress"),prop:"nums",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.nums+"/"+e.row.gnum)+"\n\t\t\t\t\t")]}}])}),t._v(" "),i("el-table-column",{attrs:{label:t.$t("task"),prop:"complete",align:"center",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s(e.row.nums>=e.row.gnum?t.$t("complete"):t.$t("no_complete"))+"\n\t\t\t\t\t")]}}])}),t._v(" "),this.global_checkBtnPermission(["sys:userWish:topList"])?i("el-table-column",{attrs:{align:"center",label:t.$t("table.actions"),width:"120",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.nums>0?i("el-button",{directives:[{name:"has",rawName:"v-has",value:"sys:userWish:topList",expression:"'sys:userWish:topList'"}],attrs:{size:"mini",type:"primary",icon:"el-icon-view",plain:""},on:{click:function(i){t.handleView(e.row)}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("View_the_list"))+"\n\t\t\t\t\t\t")]):i("span",[t._v(t._s(t.$t("label.not_available")))])]}}])}):t._e()],1),t._v(" "),i("cus-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>t.listQuery.limit,expression:"total > listQuery.limit"}],attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){t.$set(t.listQuery,"page",e)},"update:limit":function(e){t.$set(t.listQuery,"limit",e)},pagination:t.getList}})],1),t._v(" "),i("el-dialog",{attrs:{title:t.$t("View_the_list"),visible:t.dialogVisible,width:"25%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.topList,"show-header":t.showHeader}},[i("el-table-column",{attrs:{prop:"TOP",label:"TOP",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t"+t._s("TOP"+(e.$index+1))+"\n\t\t\t\t\t")]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"headImage",label:t.$t("label.user_avatar"),width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[i("span",[i("img",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.headImage,alt:""}})])]}}])}),t._v(" "),i("el-table-column",{attrs:{prop:"nickName",label:"nickName"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("span",[t._v("\n\t\t\t\t\t\t\t"+t._s(e.row.nickName)+"\n\t\t\t\t\t\t\t"),i("br"),t._v("\n\t\t\t\t\t\t\t"+t._s(t.$t("Number_of_gifts")+"："+e.row.nums)+"\n\t\t\t\t\t\t")])]}}])}),t._v(" "),i("el-row",[i("el-col",{attrs:{span:8}},[i("div",{staticClass:"grid-content bg-purple"},[t._v("TOP1")])]),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"grid-content bg-purple-light"})]),t._v(" "),i("el-col",{attrs:{span:8}},[i("div",{staticClass:"grid-content bg-purple"})])],1)],1)],1)],1)],1)},[],!1,null,null,null);n.options.__file="userWish.vue";e.default=n.exports},iV9a:function(t,e,i){"use strict";i.d(e,"a",function(){return s}),i.d(e,"b",function(){return l});var a=i("t3Un");function s(t){return Object(a.a)({url:"/admin/userWish/listPage",method:"post",data:t})}function l(t){return Object(a.a)({url:"/admin/userWish/userWishTopList",method:"post",data:t})}}}]);