(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-commons"],{"+/8H":function(e,t,a){},"/YJG":function(e,t,a){},MwrV:function(e,t,a){"use strict";var i=a("+/8H");a.n(i).a},a0WV:function(e,t,a){"use strict";var i=a("BVrC"),n=a("iOdp"),s=a("t3Un"),o=a("Q2AE"),l=a("X4fA"),c=a("uJMD"),r={name:"UploadImage",components:{SVGAPlayer:a("yIag").a},props:{imageUrl:{type:String,default:""},color:{type:String,default:"#1890ff"},imageType:{type:String,default:"Pictures_cannot_exceed_MB"}},data:function(){return{loadingUploadImage:!1,aliossConfig:{accessKeyId:"",accessKeySecret:"",stsToken:"",region:"",bucket:"",ossDomain:""},ossType:"ALI_OSS",imageFlag:!1,uploadImageUrl:void 0,imageUploadPercent:0,status:!1,svgaInfo:void 0,sv_id:"",timer:"",suffix:""}},created:function(){this.uploadImageUrl=this.imageUrl;try{var e=this.uploadImageUrl.split(".");this.suffix=e[e.length-1],this.timer=(new Date).getTime(),this.sv_id=this.timer}catch(e){this.suffix=""}console.log(this.suffix)},watch:{uploadImageUrl:function(e){}},methods:{playSvg:function(){var e=this,t=this;"svga"===this.suffix&&this.$nextTick(function(){var a=new SVGA.Player("#svga");(new SVGA.Parser).load(e.uploadImageUrl,function(e){a.setVideoItem(e),a.startAnimation(),t.player.clearsAfterStop=!0})})},forceUpdate:function(){var e=this;this.status=!1,this.$nextTick(function(){e.status=!e.status,e.uploadImageUrl=e.imageUrl}),Object(c.e)(this.imageUrl)},handleUploadImageSubmit:function(){this.$emit("successUploadImage",this.uploadImageUrl)},uploadIndexSet:function(){this.getAliOssToken()},handleImageChange:function(e,t){Object(c.e)("filefilefile"),Object(c.e)(e),Object(c.e)(t)},beforeImageUpload:function(e){this.loadingUploadImage=!0;var t="";try{var a=e.name.split(".");t=a[a.length-1]}catch(e){t=""}var i="image/jpeg"===e.type,n="image/png"===e.type,s="image/gif"===e.type,o="svga"===t,l=e.size/1024/1024<2e4;return i||n||s||o||(this.loadingUploadImage=!1,this.$message.error(this.$t(this.imageType))),l||(this.loadingUploadImage=!1,this.$message.error(this.$t("上传图片大小不能超过2MB"))),(i||n||s||o)&&l},uploadHttp:function(e){var t=this,a=e.file,i=this,r=a.name.lastIndexOf("."),d=a.name.length,g=a.name.substring(r+1,d),u=(new Date).getTime(),m="public/attachment/"+Object(c.c)()+"/admin/"+this.$store.getters.id+"/"+Object(c.g)(10)+"_"+u+"."+g;Object(c.e)("keykeykey"),Object(c.e)(m);var p=m;if("ALI_OSS"===this.ossType)this.imageFlag=!0,Object(n.a)(this.aliossConfig).multipartUpload(p,a,{progress:function(e){console.log(e),i.imageUploadPercent=Math.floor(100*e)}}).then(function(e){t.imageFlag=!1,t.uploadImageUrl=t.aliossConfig.ossDomain+"/"+e.name,t.handleUploadImageSubmit()}).catch(function(e){t.imageFlag=!1,console.log("阿里云OSS上传图片失败回调",e)});else{var h=new FormData;h.append("file",a),h.append("fileName",p);var f="";o.a.getters.token&&(f=Object(l.c)()),Object(s.a)({url:"/api/common/upload/uploadFile",method:"post",data:h,headers:{"X-Token":f},onUploadProgress:function(e){if(e.lengthComputable){i.imageFlag=!0;var t=(e.loaded/e.total*100).toFixed(0);100===parseInt(t)?i.imageUploadPercent=99:i.imageUploadPercent=parseInt(t)}}}).then(function(e){t.imageFlag=!1,e&&200==e.code&&(t.uploadImageUrl=e.data,t.handleUploadImageSubmit())}).catch(function(){t.imageFlag=!1})}},handleImageError:function(){Object(c.e)("handleImageError"),Object(c.e)("handleImageError"),this.loadingUploadImage=!1},getAliOssToken:function(){var e=this;Object(i.a)().then(function(t){Object(c.e)(t),200===t.code&&(e.ossType=t.data.ossType,"ALI_OSS"===e.ossType&&(e.aliossConfig.expiration=t.data.expiration,e.aliossConfig.accessKeyId=t.data.accessKeyId,e.aliossConfig.accessKeySecret=t.data.accessKeySecret,e.aliossConfig.stsToken=t.data.stsToken,e.aliossConfig.region="oss-"+t.data.region,e.aliossConfig.bucket=t.data.bucket,e.aliossConfig.ossDomain=t.data.ossDomain))})}}},d=a("KHd+"),g=Object(d.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.status?a("div",[a("el-upload",{staticClass:"upload-image",attrs:{"v-loading":e.loadingUploadImage,drag:"",action:"","show-file-list":!1,"on-change":e.handleImageChange,"on-error":e.handleImageError,"before-upload":e.beforeImageUpload,"http-request":e.uploadHttp}},[!0===e.imageFlag?a("el-progress",{staticStyle:{"margin-top":"15px"},attrs:{type:"circle",percentage:e.imageUploadPercent}}):e.uploadImageUrl?a("div",{staticClass:"el-default",staticStyle:{height:"180px"},on:{click:function(t){e.uploadIndexSet()}}},["svga"===e.suffix?a("SVGAPlayer",{key:e.timer,attrs:{sv_id:e.sv_id,src:e.uploadImageUrl,styleObj:{height:"200px"},onlyTag:e.uploadImageUrl}}):a("img",{staticClass:"image",attrs:{src:e.uploadImageUrl}})],1):a("div",{staticClass:"el-default",staticStyle:{height:"180px"},on:{click:function(t){e.uploadIndexSet()}}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v(e._s(e.$t("Drag_files_here")))])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t(e.imageType)))])],1)],1):e._e()},[],!1,null,null,null);g.options.__file="index.vue";t.a=g.exports},glbJ:function(e,t,a){"use strict";var i=a("BVrC"),n=a("iOdp"),s=a("t3Un"),o=a("Q2AE"),l=a("X4fA"),c=a("uJMD"),r=(a("7Qib"),{name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{aliossConfig:{accessKeyId:"",accessKeySecret:"",stsToken:"",region:"",bucket:"",ossDomain:""},ossType:"ALI_OSS",imageFlag:!1,imageUploadPercent:0,dialogVisible:!1,listObj:{},fileList:[],imageUrl:void 0}},methods:{checkAllSuccess:function(){var e=this;return Object.keys(this.listObj).every(function(t){return e.listObj[t].hasSuccess})},handleSubmit:function(){var e=this.imageUrl;void 0!==this.imageUrl&&""!==this.imageUrl&&(this.checkAllSuccess()?(this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.imageUrl=void 0,this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！"))},uploadIndexSet:function(){this.getAliOssToken()},handleImageChange:function(e,t){Object(c.e)(e),Object(c.e)(t),console.log(this.$refs)},beforeImageUpload:function(e){this.loading=!0;var t="image/jpeg"===e.type,a="image/png"===e.type,i="image/gif"===e.type,n=e.size/1024/1024<2;return t||a||i||(this.loading=!1,this.$message.error("上传图片只能是 JPG/PNG/GIF 格式!")),n||(this.loading=!1,this.$message.error("上传图片大小不能超过 2MB!")),(t||a||i)&&n},uploadHttp:function(e){var t=this,a=e.file,i=this,r=a.name.lastIndexOf("."),d=a.name.length,g=a.name.substring(r+1,d),u=(new Date).getTime(),m="public/attachment/"+Object(c.c)()+"/admin/"+this.$store.getters.id+"/"+Object(c.g)(10)+"_"+u+"."+g;Object(c.e)(m);var p=m;if("ALI_OSS"===this.ossType)this.imageFlag=!0,Object(n.a)(this.aliossConfig).multipartUpload(p,a,{progress:function(e){console.log(e),i.imageUploadPercent=Math.floor(100*e)}}).then(function(e){t.imageFlag=!1,t.imageUrl=t.aliossConfig.ossDomain+"/"+e.name}).catch(function(e){t.imageFlag=!1,console.log("阿里云OSS上传图片失败回调",e)});else{var h=new FormData;h.append("file",a),h.append("fileName",p);var f="";o.a.getters.token&&(f=Object(l.c)()),Object(s.a)({url:"/api/common/upload/uploadFile",method:"post",data:h,headers:{"X-Token":f},onUploadProgress:function(e){if(e.lengthComputable){i.imageFlag=!0;var t=(e.loaded/e.total*100).toFixed(0);100===parseInt(t)?i.imageUploadPercent=99:i.imageUploadPercent=parseInt(t)}}}).then(function(e){t.imageFlag=!1,e&&200==e.code&&(t.imageUrl=e.data)}).catch(function(){t.imageFlag=!1})}},handleImageError:function(){Object(c.e)("handleImageError"),Object(c.e)("handleImageError"),this.loading=!1},getAliOssToken:function(){var e=this;Object(i.a)().then(function(t){Object(c.e)(t),200===t.code&&(e.ossType=t.data.ossType,"ALI_OSS"===e.ossType&&(e.aliossConfig.accessKeyId=t.data.accessKeyId,e.aliossConfig.accessKeyId=t.data.accessKeyId,e.aliossConfig.accessKeySecret=t.data.accessKeySecret,e.aliossConfig.stsToken=t.data.stsToken,e.aliossConfig.region="oss-"+t.data.region,e.aliossConfig.bucket=t.data.bucket,e.aliossConfig.ossDomain=t.data.ossDomain))})}}}),d=(a("o3IY"),a("KHd+")),g=Object(d.a)(r,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"upload-container"},[a("el-button",{style:{background:e.color,borderColor:e.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v(e._s(e.$t("上传图片"))+"\n\t")]),e._v(" "),a("el-dialog",{attrs:{modal:!0,"append-to-body":!0,"modal-append-to-body":!1,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-upload",{staticClass:"upload-image",attrs:{drag:"",action:"","show-file-list":!1,"on-change":e.handleImageChange,"on-error":e.handleImageError,"before-upload":e.beforeImageUpload,"http-request":e.uploadHttp}},[!0===e.imageFlag?a("el-progress",{staticStyle:{"margin-top":"15px"},attrs:{type:"circle",percentage:e.imageUploadPercent}}):e.imageUrl?a("div",{staticClass:"el-default",staticStyle:{height:"180px"},on:{click:function(t){e.uploadIndexSet()}}},[e.imageUrl?a("img",{staticClass:"image",attrs:{src:e.imageUrl}}):e._e()]):a("div",{staticClass:"el-default",staticStyle:{height:"180px"},on:{click:function(t){e.uploadIndexSet()}}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v(e._s(e.$t("Drag_files_here")))])]),e._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.$t("Pictures_cannot_exceed_MB")))])],1),e._v(" "),a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1)},[],!1,null,"2df256b5",null);g.options.__file="editorImage.vue";var u=["advlist anchor autolink autosave code codesample colorpicker colorpicker contextmenu directionality emoticons fullscreen hr insertdatetime link lists nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],m=["searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample","hr bullist numlist link image charmap preview anchor pagebreak insertdatetime media table emoticons forecolor backcolor fullscreen"],p={name:"Tinymce",components:{editorImage:g.exports},props:{id:{type:String,default:function(){return"vue-tinymce-"+ +new Date+(1e3*Math.random()).toFixed(0)}},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{type:String,default:"file edit insert view format table"},height:{type:Number,required:!1,default:360}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id,fullscreen:!1,languageTypeList:{en:"en",zh:"zh_CN"}}},computed:{language:function(){return this.languageTypeList[this.$store.getters.language]}},watch:{value:function(e){var t=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(t.tinymceId).setContent(e||"")})},language:function(){var e=this;this.destroyTinymce(),this.$nextTick(function(){return e.initTinymce()})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},destroyed:function(){this.destroyTinymce()},methods:{initTinymce:function(){var e=this,t=this;window.tinymce.init({language:this.language,selector:"#"+this.tinymceId,height:this.height,body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:m,menubar:this.menubar,plugins:u,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,nonbreaking_force_tab:!0,init_instance_callback:function(a){t.value&&a.setContent(t.value),t.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",function(){e.hasChange=!0,e.$emit("input",a.getContent())})},setup:function(e){e.on("FullscreenStateChanged",function(e){t.fullscreen=e.state})}})},destroyTinymce:function(){var e=window.tinymce.get(this.tinymceId);this.fullscreen&&e.execCommand("mceFullScreen"),e&&e.destroy()},setContent:function(e){window.tinymce.get(this.tinymceId).setContent(e)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(e){window.tinymce.get(this.tinymceId).insertContent('<img class="wscnph" src="'+e+'" >')}}},h=(a("MwrV"),Object(d.a)(p,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tinymce-container editor-container",class:{fullscreen:this.fullscreen}},[t("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),t("div",{staticClass:"editor-custom-btn-container"},[t("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},[],!1,null,"98d8f630",null));h.options.__file="index.vue";t.a=h.exports},o3IY:function(e,t,a){"use strict";var i=a("/YJG");a.n(i).a},yIag:function(e,t,a){"use strict";var i={name:"SVGAPlayer",props:{src:{type:String,default:void 0},styleObj:{},sv_id:{type:void 0,default:1}},data:function(){return{svId:"",onlyTag:"",loops:"",mode:""}},created:function(){var e=this;this.svId="svga-id-"+this.sv_id,this.$nextTick(function(){try{var t=new SVGA.Player("#"+e.svId);console.log(e.svId),t.loops=e.loops||Number.MAX_SAFE_INTEGER,t.clearsAfterStop=!1,(new SVGA.Parser).load(e.src,function(a){t.setVideoItem(a),t.setContentMode(e.mode||"AspectFit"),t.startAnimation(),t.onFinished(function(){return e.onlyTag})})}catch(e){console.error(e)}})}},n=a("KHd+"),s=Object(n.a)(i,function(){var e=this.$createElement;return(this._self._c||e)("div",{style:this.styleObj||{},attrs:{id:this.svId}})},[],!1,null,null,null);s.options.__file="index.vue";t.a=s.exports}}]);